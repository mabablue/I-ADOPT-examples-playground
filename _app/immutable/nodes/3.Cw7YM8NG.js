var Bt=Object.defineProperty;var bt=i=>{throw TypeError(i)};var Lt=(i,e,t)=>e in i?Bt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Y=(i,e,t)=>Lt(i,typeof e!="symbol"?e+"":e,t),pt=(i,e,t)=>e.has(i)||bt("Cannot "+t);var a=(i,e,t)=>(pt(i,e,"read from private field"),t?t.call(i):e.get(i)),y=(i,e,t)=>e.has(i)?bt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),q=(i,e,t,s)=>(pt(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t);import{f as j,b as _,w as Pt,c as jt,t as Ot}from"../chunks/D7Ng1HQ7.js";import{h as Ct,a2 as wt,a3 as xt,a5 as g,a6 as c,a8 as l,o as f,aa as V,a9 as et,a4 as zt,q as dt,a7 as At}from"../chunks/BUtGJK69.js";import{s as M}from"../chunks/CuVJyuQP.js";import{i as R}from"../chunks/C-dmptjj.js";import{e as it,i as rt,r as Nt,s as z,a as Dt}from"../chunks/DNDaUJNy.js";const St=[...` 	
\r\fÂ \v\uFEFF`];function Tt(i,e,t){var s=""+i;if(t){for(var r in t)if(t[r])s=s?s+" "+r:r;else if(s.length)for(var o=r.length,n=0;(n=s.indexOf(r,n))>=0;){var m=n+o;(n===0||St.includes(s[n-1]))&&(m===s.length||St.includes(s[m]))?s=(n===0?"":s.substring(0,n))+s.substring(m+1):n=m}}return s===""?null:s}function $t(i,e,t,s,r,o){var n=i.__className;if(Ct||n!==t||n===void 0){var m=Tt(t,s,o);(!Ct||m!==i.getAttribute("class"))&&(m==null?i.removeAttribute("class"):i.className=m),i.__className=t}else if(o&&r!==o)for(var d in o){var E=!!o[d];(r==null||E!==!!r[d])&&i.classList.toggle(d,E)}return o}const yt=["hasPart"],Et=["hasSource","hasTarget"],It=[...yt,...Et];var ht,vt,mt;const st=class st{constructor({iri:e,shortIri:t,label:s,comment:r,isBlank:o}={}){y(this,vt);Y(this,"_iri");Y(this,"_shortIri");Y(this,"_label",{});Y(this,"_comment",{});Y(this,"_isBlank");Y(this,"_constrained",[]);y(this,mt,"");this._iri=e,this._shortIri=t,this._isBlank=o??!e,typeof s=="string"?this._label[""]=s:this._label=Object.fromEntries(Object.entries(s??{}).filter(([n,m])=>m)),typeof r=="string"?this._comment[""]=r:this._comment=Object.fromEntries(Object.entries(r??{}).filter(([n,m])=>m))}clone(){return new st({iri:this._iri,shortiri:this._shortIri,label:JSON.parse(JSON.stringify(this._label)),comment:JSON.parse(JSON.stringify(this._comment)),isblank:this._isBlank})}setVariable(e){q(this,vt,e)}getVariable(){return a(this,vt)}getIri(){return this._isBlank?null:this._iri}getShortIri(){return this._isBlank?null:this._shortIri}isBlank(){return this._isBlank}setLabel(e,t){this._label[e]=t}getLabel(){for(const s of a(st,ht))if(s in this._label)return this._label[s];let e=Object.values(this._label)[0];if(e)return e;const t=this._iri.split("/");return t.pop()||t.pop()||"[missing label]"}setComment(e,t){this._comment[e]=t}getComment(){for(const e of a(st,ht))if(e in this._comment)return this._comment[e];return Object.values(this._comment)[0]}setRole(e){q(this,mt,e)}getRole(){return a(this,mt)}};ht=new WeakMap,vt=new WeakMap,mt=new WeakMap,y(st,ht,["en",""]);let ct=st;var G,H,U,gt,K,at;class Jt extends ct{constructor(){super(...arguments);y(this,G);y(this,H);y(this,U);y(this,gt);y(this,K,[]);y(this,at,[])}setProperty(t){if(!(t instanceof Mt))throw new Error("Can only assign instances of Property!");t.setVariable(this),t.setRole("Property"),q(this,G,t)}setObjectOfInterest(t){if(!(t instanceof k))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("OoI"),q(this,H,t)}setMatrix(t){if(!(t instanceof k))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("Matrix"),q(this,U,t)}setStatisticalModifier(t){if(!(t instanceof k))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("StatisticalModifier"),q(this,gt,t)}addContextObject(t){if(!(t instanceof k))throw new Error("Can only assign instances of Entity!");t.setVariable(this),t.setRole("ContextObject"),a(this,K).push(t)}addConstraint(t,...s){if(!(t instanceof Vt))throw new Error("Can only assign instances of Constraint!");if(s.some(r=>r.getVariable()!=this))throw Error("Can only constrain entities of the same variable!");if(a(this,at).includes(t)){const r=t.getEntities();for(const o of s)r.includes(o)||(t.addEntity(o),o._addConstraint(t));return}for(const r of s)t.addEntity(r),r._addConstraint(t);t.setRole("Constraint"),a(this,at).push(t)}getProperty(){return a(this,G)}getObjectOfInterest(){return a(this,H)}getMatrix(){return a(this,U)}getStatisticalModifier(){return a(this,gt)}getContextObjects(){return a(this,K).slice(0)}getConstraints(){return a(this,at).slice(0)}getClassLabel(){return"Variable"}toString(){return`[Variable ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,s])=>`    ${t}: ${s}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,s])=>`    ${t}: ${s}`).join(`
`):"")+`
  Property:
${a(this,G)?a(this,G).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  ObjectOfInterest:
${a(this,H)?a(this,H).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  Matrix:
${a(this,U)?a(this,U).toString().split(`
`).map(t=>`    ${t}`).join(`
`):"-"}
  ContextObject:
${a(this,K).length?a(this,K).map(t=>t.toString().split(`
`).map(s=>`    ${s}`).join(`
`)).join(`
`):"-"}
]`}}G=new WeakMap,H=new WeakMap,U=new WeakMap,gt=new WeakMap,K=new WeakMap,at=new WeakMap;var ft;class Vt extends ct{constructor(){super(...arguments);y(this,ft,[])}addEntity(t){a(this,ft).push(t)}getEntities(){return a(this,ft).slice(0)}getClassLabel(){return"Constraint"}toString(){return`[Constraint ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,s])=>`    ${t}: ${s}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,s])=>`    ${t}: ${s}`).join(`
`):"")+`
]`}}ft=new WeakMap;var P,S;const ut=class ut extends ct{constructor(){super(...arguments);y(this,P,[]);y(this,S,{})}setVariable(t){super.setVariable(t),Object.values(a(this,S)).forEach(s=>s.forEach(r=>r.setVariable(t)))}_addConstraint(t){a(this,P).push(t)}addConstraint(t){a(this,P).push(t)}getConstraints(){return Array.from(a(this,P))}addComponent(t,s){if(!It.includes(t))throw new Error("Invalid property to connect a System to its components: "+t);t in a(this,S)||(a(this,S)[t]=[]),s.setVariable(this.getVariable()),s.setRole("SystemComponent"),a(this,S)[t].push(s)}getComponents(){return Object.entries(a(this,S)).reduce((t,s)=>(t[s[0]]=Array.from(s[1]),t),{})}getComponentCount(){return Object.entries(a(this,S)).reduce((t,s)=>t+s[1].length,0)}isSystem(){return Object.keys(a(this,S)).length>0}getClassLabel(){switch(!0){case this.getRole()=="StatisticalModifier":return"Stat. Mod.";case yt.some(t=>t in a(this,S)):return"SymmetricSystem";case Et.some(t=>t in a(this,S)):return"AsymmetricSystem";default:return"Entity"}}toString(){return`[Entity ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([t,s])=>`    ${t}: ${s}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([t,s])=>`    ${t}: ${s}`).join(`
`):"")+(Object.values(a(this,P)).length?`
  constrained:
`+a(this,P).map(t=>t.toString().split(`
`).map(s=>`    ${s}`).join(`
`)).join(`
`):"-")+`
]`}clone(){const t=new ut({iri:this._iri,shortIri:this._shortIri,label:this._label,comment:this._comment,isBlank:this._isBlank});for(const s of a(this,P))t._addConstraint(s);for(const s in a(this,S))for(const r of a(this,S)[s])t.addComponent(s,r.clone());return t}};P=new WeakMap,S=new WeakMap;let k=ut;class Mt extends k{getClassLabel(){return"Property"}toString(){return`[Entity ${this._iri?`(${this._iri})`:"(_blank)"}`+(Object.values(this._label).length?`
  label:
`+Object.entries(this._label).map(([e,t])=>`    ${e}: ${t}`).join(`
`):"")+(Object.values(this._comment).length?`
  comment:
`+Object.entries(this._comment).map(([e,t])=>`    ${e}: ${t}`).join(`
`):"")+`
]`}}function Yt(i){const e=new Jt({iri:i["@id"],label:i.label,comment:i.comment}),t={};let s=F(i.property,Mt,t);if(s&&e.setProperty(s),s=F(i.statisticalModifier,k,t),s&&e.setStatisticalModifier(s),s=F(i.ooi,k,t),s&&e.setObjectOfInterest(s),s=F(i.matrix,k,t),s&&e.setMatrix(s),i.context)for(const r of i.context)s=F(r,k,t),e.addContextObject(s);if(i.constraint)for(const r of i.constraint){let{constraint:o,entities:n}=qt(r);n=n.map(m=>t[m]),e.addConstraint(o,...n)}return e}function F(i,e,t){if(!i)return;const s=new e({iri:i["@id"],label:i.label,comment:i.comment});t[s.getIri()]=s;for(const r of It)if(r in i){const o=Array.isArray(i[r])?i[r].map(n=>F(n,e,t)):[F(i[r],e,t)];for(const n of o)s.addComponent(r,n),t[n.getIri()]=n}return s}function qt(i){if(i)return{constraint:new Vt({iri:i["@id"],label:i.label,comment:i.comment}),entities:i.constrains}}var Ft=j("<a><li> </li></a>"),Gt=j('<li class="svelte-1p7wivt"><label class="svelte-1p7wivt"><i> </i></label> <input type="checkbox" class="svelte-1p7wivt"/> <ul class="svelte-1p7wivt"></ul></li>'),Ht=j('<div class="navBox svelte-1p7wivt"><div class="navBoxHead">Navigation</div> <div class="navBoxBody svelte-1p7wivt"><ul class="svelte-1p7wivt"></ul></div></div>');function Ut(i,e){wt(e,!0);const t=e.selected.split("/").slice(0,-1).map(()=>"..").join("/"),s=Object.keys(e.variables).find(m=>e.variables[m].some(d=>d.path==e.selected));var r=Ht(),o=g(c(r),2),n=c(o);it(n,21,()=>Object.keys(e.variables),rt,(m,d)=>{var E=Gt(),I=c(E),Q=c(I),A=c(Q,!0);l(Q),l(I);var L=g(I,2);Nt(L);var W=g(L,2);it(W,21,()=>e.variables[f(d)],rt,(D,v)=>{var h=Ft(),b=c(h);let w;var p=c(b,!0);l(b),l(h),V(B=>{z(h,"href",(t?`${t}/${f(v).path}`:f(v).path)+".html"),w=$t(b,1,"svelte-1p7wivt",null,w,B),M(p,f(v).title)},[()=>({selected:e.selected==f(v).path})]),_(D,h)}),l(W),l(E),V(()=>{z(I,"for",`checkBox${f(d)??""}`),M(A,f(d)),z(L,"id",`checkBox${f(d)??""}`),Dt(L,s==f(d))}),_(m,E)}),l(n),l(o),l(r),_(i,r),xt()}const tt=(i,e=zt)=>{var t=jt(),s=et(t);{var r=o=>{var n=se(),m=c(n);{var d=v=>{var h=Kt(),b=c(h,!0);l(h),V((w,p)=>{z(h,"href",w),M(b,p)},[()=>e().getIri(),()=>e().getLabel()]),_(v,h)},E=v=>{var h=Ot();V(b=>M(h,b),[()=>e().getLabel()]),_(v,h)};R(m,v=>{e().getIri()?v(d):v(E,!1)})}var I=g(m,2);{var Q=v=>{var h=Qt(),b=c(h,!0);l(h),V(w=>M(b,w),[()=>e().getComment()]),_(v,h)};R(I,v=>{e().getComment()&&v(Q)})}var A=g(I,2);{var L=v=>{var h=te(),b=g(c(h),2);it(b,21,()=>e().getConstraints(),rt,(w,p)=>{var B=Zt(),X=c(B);{var N=O=>{var C=Ot();V($=>M(C,$),[()=>f(p).getLabel()]),_(O,C)},T=O=>{var C=Wt(),$=c(C,!0);l(C),V((lt,_t)=>{z(C,"href",lt),M($,_t)},[()=>f(p).getIri(),()=>f(p).getLabel()]),_(O,C)};R(X,O=>{f(p).isBlank()?O(N):O(T,!1)})}var Z=g(X,2);{var nt=O=>{var C=Xt(),$=c(C,!0);l(C),V(lt=>M($,lt),[()=>f(p).getComment()]),_(O,C)};R(Z,O=>{f(p).getComment()&&O(nt)})}l(B),_(w,B)}),l(b),l(h),_(v,h)};R(A,v=>{e().getConstraints().length>0&&v(L)})}var W=g(A,2);{var D=v=>{var h=jt(),b=et(h);it(b,17,()=>Object.entries(e().getComponents()),rt,(w,p)=>{let B=()=>f(p)[0],X=()=>f(p)[1];var N=ee(),T=c(N),Z=c(T,!0);l(T);var nt=g(T,2);it(nt,17,X,rt,(O,C)=>{tt(O,()=>f(C))}),l(N),V(()=>M(Z,B())),_(w,N)}),_(v,h)};R(W,v=>{e().getComponentCount()>0&&v(D)})}l(n),_(o,n)};R(s,o=>{e()&&o(r)})}_(i,t)};var Kt=j("<a> </a>"),Qt=j('<p class="desc svelte-1g9s8gm"> </p>'),Wt=j("<a> </a>"),Xt=j('<p class="description"> </p>'),Zt=j('<li class="constraint-item"><!> <!></li>'),te=j('<div><span class="subheading">Constraint(s)</span> <ul class="constraint-list"></ul></div>'),ee=j('<dl class="svelte-1g9s8gm"><dt class="subheading svelte-1g9s8gm"> </dt> <!></dl>'),se=j("<dd><!> <!> <!> <!></dd>"),ie=j('<a target="_blank" aria-label="Discuss on Github" class="svelte-1g9s8gm"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.4 90" style="height: 1em;"><g fill="currentColor"><path d="m46.1 0c-25.5 0-46.1 20.6-46.1 46.1 0 20.4 13.2 37.7 31.5 43.8 2.3.4 3.2-1 3.2-2.2 0-1.1-.1-4.7-.1-8.6-11.6 2.1-14.6-2.8-15.5-5.4-.5-1.3-2.8-5.4-4.7-6.5-1.6-.9-3.9-3-.1-3.1 3.6-.1 6.2 3.3 7.1 4.7 4.2 7 10.8 5 13.4 3.8.4-3 1.6-5 2.9-6.2-10.3-1.2-21-5.1-21-22.8 0-5 1.8-9.2 4.7-12.4-.5-1.2-2.1-5.9.5-12.2 0 0 3.9-1.2 12.7 4.7 3.7-1 7.6-1.6 11.5-1.6s7.8.5 11.5 1.6c8.8-6 12.7-4.7 12.7-4.7 2.5 6.3.9 11.1.5 12.2 2.9 3.2 4.7 7.3 4.7 12.4 0 17.7-10.8 21.6-21.1 22.8 1.7 1.4 3.1 4.2 3.1 8.5 0 6.2-.1 11.1-.1 12.7 0 1.2.9 2.7 3.2 2.2 18.2-6.1 31.4-23.4 31.4-43.8.3-25.4-20.4-46-45.9-46z"></path><path d="m221.6 67.1h-.1zm0 0c-.5 0-1.8.3-3.2.3-4.4 0-5.9-2-5.9-4.6v-17.5h8.9c.5 0 .9-.4.9-1.1v-9.5c0-.5-.4-.9-.9-.9h-8.9v-11.7c0-.4-.3-.7-.8-.7h-12c-.5 0-.8.3-.8.7v12.1s-6.1 1.5-6.5 1.6-.7.5-.7.9v7.6c0 .6.4 1.1.9 1.1h6.2v18.3c0 13.6 9.5 15 16 15 3 0 6.5-.9 7.1-1.2.3-.1.5-.5.5-.9v-8.4c.1-.6-.3-1-.8-1.1zm132.2-12.2c0-10.1-4.1-11.4-8.4-11-3.3.2-6 1.9-6 1.9v19.6s2.7 1.9 6.8 2c5.8.2 7.6-1.9 7.6-12.5zm13.6-.9c0 19.1-6.2 24.6-17 24.6-9.1 0-14.1-4.6-14.1-4.6s-.2 2.6-.5 2.9c-.2.3-.4.4-.8.4h-8.3c-.6 0-1.1-.4-1.1-.9l.1-62c0-.5.4-.9.9-.9h11.9c.5 0 .9.4.9.9l-.1 20.9s4.6-3 11.3-3h.1c6.8-0 16.7 2.5 16.7 21.7zm-48.7-20.2h-11.7c-.6 0-.9.4-.9 1.1v30.3s-3.1 2.2-7.3 2.2-5.4-1.9-5.4-6.1v-26.5c0-.5-.4-.9-.9-.9h-11.9c-.5 0-.9.4-.9.9v28.5c0 12.3 6.9 15.3 16.3 15.3 7.8 0 14.1-4.3 14.1-4.3s.3 2.2.4 2.5.5.5.9.5h7.5c.6 0 .9-.4.9-.9l.1-41.7c-.1-.4-.6-.9-1.2-.9zm-132.2 0h-11.9c-.5 0-.9.5-.9 1.1v40.9c0 1.1.7 1.5 1.7 1.5h10.7c1.1 0 1.4-.5 1.4-1.5v-41.1c0-.5-.5-.9-1-.9zm-5.8-18.9c-4.3 0-7.7 3.4-7.7 7.7s3.4 7.7 7.7 7.7c4.2 0 7.6-3.4 7.6-7.7s-3.4-7.7-7.6-7.7zm92-1.4h-11.8c-.5 0-.9.4-.9.9v22.8h-18.5v-22.7c0-.5-.4-.9-.9-.9h-11.9c-.5 0-.9.4-.9.9v62c0 .5.5.9.9.9h11.9c.5 0 .9-.4.9-.9v-26.6h18.5l-.1 26.5c0 .5.4.9.9.9h11.9c.5 0 .9-.4.9-.9v-62c0-.4-.4-.9-.9-.9zm-105.3 27.5v32c0 .2-.1.6-.3.7 0 0-7 5-18.5 5-13.9 0-30.3-4.4-30.3-33 0-28.7 14.4-34.6 28.4-34.5 12.2 0 17.1 2.7 17.8 3.2.2.3.3.5.3.8l-2.3 9.9c0 .5-.5 1.1-1.1.9-2-.6-5-1.8-12.1-1.8-8.2 0-17 2.3-17 20.8s8.4 20.6 14.4 20.6c5.1 0 7-.6 7-.6v-12.8h-8.2c-.6 0-1.1-.4-1.1-.9v-10.3c0-.5.4-.9 1.1-.9h20.9c.6-.1 1 .4 1 .9z"></path></g></svg></a>'),re=j('<dt class="svelte-1g9s8gm">Statistical Modifier</dt> <!>',1),ae=j('<dt class="svelte-1g9s8gm">Matrix</dt> <!>',1),ne=j('<dt class="svelte-1g9s8gm">Context Objects</dt> <!>',1),le=Pt(j(`<nav><!></nav> <main class="svelte-1g9s8gm"><div class="svelte-1g9s8gm"><section class="svelte-1g9s8gm"><h2 class="svelte-1g9s8gm"> </h2> <p class="links svelte-1g9s8gm"><!> <a target="_blank" aria-label="Download RDF" class="svelte-1g9s8gm"><img style="height: 1em;" alt="Download RDF"/></a></p> <p class="description"> </p></section> <section class="textual svelte-1g9s8gm"><dl class="svelte-1g9s8gm"><dt class="svelte-1g9s8gm">Property</dt> <!> <dt class="svelte-1g9s8gm">Object of Interest</dt> <!> <!> <!> <!></dl></section></div> <br/> <div class="vis svelte-1g9s8gm"><iframe title="Visualization of the Variable" class="svelte-1g9s8gm"></iframe> <script>
      function updateVisSize( ev ) {
        // set the proper iframe ratio
        const iframe = document.querySelector( 'iframe' );
        const ratio = ev.data.width / ev.data.height;
        iframe.style.aspectRatio = ratio;
        // remove the listener
        window.removeEventListener( 'message', updateVisSize );
      }
      window.addEventListener( 'message', updateVisSize );
    <\/script></div></main>`,1));function fe(i,e){wt(e,!0);const t=Yt(e.data.variable),s=e.data.path.split("/").slice(0,-1).map(()=>"..").join("/");var r=le(),o=et(r),n=c(o);Ut(n,{get selected(){return e.data.path},get variables(){return e.data.variableList}}),l(o);var m=g(o,2),d=c(m),E=c(d),I=c(E),Q=c(I,!0);l(I);var A=g(I,2),L=c(A);{var W=u=>{var x=ie();V(()=>z(x,"href",e.data.issue)),_(u,x)};R(L,u=>{e.data.issue&&u(W)})}var D=g(L,2),v=c(D);z(v,"src",`${s}/rdf.svg`),l(D),l(A);var h=g(A,2),b=c(h,!0);l(h),l(E);var w=g(E,2),p=c(w),B=g(c(p),2),X=dt(()=>t.getProperty());tt(B,()=>f(X));var N=g(B,4),T=dt(()=>t.getObjectOfInterest());tt(N,()=>f(T));var Z=g(N,2);{var nt=u=>{var x=re(),J=g(et(x),2),ot=dt(()=>t.getStatisticalModifier());tt(J,()=>f(ot)),_(u,x)};R(Z,u=>{t.getStatisticalModifier()&&u(nt)})}var O=g(Z,2);{var C=u=>{var x=ae(),J=g(et(x),2),ot=dt(()=>t.getMatrix());tt(J,()=>f(ot)),_(u,x)};R(O,u=>{t.getMatrix()&&u(C)})}var $=g(O,2);{var lt=u=>{var x=ne(),J=g(et(x),2);it(J,17,()=>t.getContextObjects(),rt,(ot,kt)=>{tt(ot,()=>f(kt))}),_(u,x)};R($,u=>{t.getContextObjects().length>0&&u(lt)})}l(p),l(w),l(d);var _t=g(d,4),Rt=c(_t);At(2),l(_t),l(m),V((u,x,J)=>{M(Q,u),z(D,"href",`${s}/${e.data.path}`),M(b,x),z(Rt,"src",`https://sirkos.github.io/iadopt-vis/remote.html?jsonld=${J??""}`)},[()=>t.getLabel(),()=>t.getComment(),()=>encodeURIComponent(JSON.stringify(e.data.variable))]),_(i,r),xt()}export{fe as component};
